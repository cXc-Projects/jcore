(function(b){function q(a,d,g){if(a.nodeType){d=v[d]||"attr";b(a)[d](g)}else b(a).data(d,g)}function p(a){a=b.data(a);var d;return(a._getLinks||(d={s:[],t:[]},a._getLinks=function(){return d}))()}function r(a,d,g){d.bind(a.nodeType?"change":"changeData",g)}function m(a,d,g){d.unbind(a.nodeType?"change":"changeData",g)}function s(a,d,g,e,c,j){j=a.target;c=a.type==="changeData";var i;if(c){name=d;if(a.namespace)name+="."+a.namespace}else name=j.name||j.id;if(e){i=e[name];if(!i)return null;a=i.name;
i=i.convert;if(typeof i==="string")i=b.convertFn[i]}else a=name;return{name:a,convert:i,value:c?g:b(j).val()}}var w=b.cleanData,v={val:"val",html:"html",text:"text"};b.extend({cleanData:function(a){for(var d=0,g;(g=a[d])!=null;d++){var e=b.data(g,"_getLinks");if(e){e=e();var c=b(g);b.each(e.s,function(){m(g,c,this.handler);this.handlerRev&&m(this.target,b(this.target),this.handlerRev)});b.each(e.t,function(){m(this.source,b(this.source),this.handler);this.handlerRev&&m(g,c,this.handlerRev)});e.s=
[];e.t=[]}}w(a)},convertFn:{"!":function(a){return!a}}});b.extend(b.fn,{link:function(a,d){function g(f){f="[name="+f+"], [id="+f+"]";return e.filter(f).add(e.find(f))}var e=this;if(!a)return e;if(typeof a==="string")a=b(a,this.context||null)[0];var c=!d,j,i,t=function(f,k,h){var l=s(f,k,h,j);if(l){k=l.name;h=l.value;if(l=l.convert)h=l(h,f.target,a);h!==undefined&&q(a,k,h)}},u=function(f,k,h){if(f=s(f,k,h,i)){var l=f.value,n=f.convert;g(f.name).each(function(){h=l;if(n)h=n(h,a,this);h!==undefined&&
q(this,"val",h)})}};d&&b.each(d,function(f,k){var h=k,l,n,o;if(b.isPlainObject(k)){h=k.name||f;l=k.convert;n=k.convertBack;o=k.twoWay!==false;c|=o}else c=o=true;if(o){i=i||{};i[f]={name:h,convert:n}}j=j||{};j[h]={name:f,convert:l,twoWay:o}});e.each(function(){r(this,b(this),t);var f={handler:t,handlerRev:c?u:null,target:a,source:this};p(this).s.push(f);a.nodeType&&p(a).t.push(f)});c&&r(a,b(a),u);return e},unlink:function(a){this.each(function(){for(var d=b(this),g=p(this).s,e=g.length-1;e>=0;e--){var c=
g[e];if(c.target===a){m(this,d,c.handler);c.handlerRev&&m(c.target,b(c.target),c.handlerRev);g.splice(e,1);var j=p(c.target).t;c=b.inArray(c,j);c!==-1&&j.splice(c,1)}}})}})})(jQuery);
