(function(b){var o=false,j=null;b.quickFlip={wrappers:[],opts:[],objs:[],init:function(a,h){a=a||{};a.closeSpeed=a.closeSpeed||180;a.openSpeed=a.openSpeed||120;a.ctaSelector=a.ctaSelector||".quickFlipCta";a.refresh=a.refresh||o;a.easing=a.easing||"swing";a.noResize=a.noResize||o;a.vertical=a.vertical||o;var f=typeof h!="undefined"?b(h):b(".quickFlip"),c=f.children();f.css("position")=="static"&&f.css("position","relative");var d=b.quickFlip.wrappers.length;c.each(function(e){var g=b(this);a.ctaSelector&&
g.find(a.ctaSelector).click(function(k){k.preventDefault();b.quickFlip.flip(d)});e&&g.hide()});b.quickFlip.opts.push(a);b.quickFlip.objs.push({$box:b(f),$kids:b(c)});b.quickFlip.build(d);a.noResize||b(window).resize(function(){for(var e=0;e<b.quickFlip.wrappers.length;e++){b.quickFlip.removeFlipDivs(e);b.quickFlip.build(e)}})},build:function(a,h){function f(e,g){function k(l,r){var q=b("<div></div>"),s=l.panels[r].clone().show();q.css(m);q.html(s);return q}var n=b("<div></div>");e.panels[g].html();
var m={width:c.vertical?c.panelWidth:e.half,height:c.vertical?e.half:c.panelHeight,position:"absolute",overflow:"hidden",margin:0,padding:0};if(c.vertical)m.left=0;else m.top=0;var p=b(k(e,g)).appendTo(n),i=b(k(e,g)).appendTo(n);if(c.vertical){p.css("bottom",e.half);i.css("top",e.half);i.children().css({top:j,bottom:0})}else{p.css("right",e.half);i.css("left",e.half);i.children().css({right:0,left:"auto"})}return n}b.quickFlip.opts[a].panelWidth=b.quickFlip.opts[a].panelWidth||b.quickFlip.objs[a].$box.width();
b.quickFlip.opts[a].panelHeight=b.quickFlip.opts[a].panelHeight||b.quickFlip.objs[a].$box.height();var c=b.quickFlip.opts[a],d={wrapper:b.quickFlip.objs[a].$box,index:a,half:parseInt((c.vertical?c.panelHeight:c.panelWidth)/2),panels:[],flipDivs:[],flipDivCols:[],currPanel:h||0,options:c};b.quickFlip.objs[a].$kids.each(function(e){var g=b(this).css({position:"absolute",top:0,left:0,margin:0,padding:0,width:c.panelWidth,height:c.panelHeight});d.panels[e]=g;g=f(d,e).hide().appendTo(d.wrapper);d.flipDivs[e]=
g;d.flipDivCols[e]=g.children()});b.quickFlip.wrappers[a]=d},flip:function(a,h,f,c){if(!(typeof a!="number"||typeof b.quickFlip.wrappers[a]=="undefined")){var d=b.quickFlip.wrappers[a],e=d.currPanel,g=typeof h!="undefined"&&h!=j?h:d.panels.length>e+1?e+1:0;d.currPanel=g;f=typeof f!="undefined"&&f!=j?f:1;c=function(i,l){i=i||{};l=l||{};for(opt in i)l[opt]=i[opt];return l}(c,b.quickFlip.opts[a]);d.panels[e].hide();if(c.refresh){b.quickFlip.removeFlipDivs(a);b.quickFlip.build(a,g);d=b.quickFlip.wrappers[a]}d.flipDivs[e].show();
var k=0,n=0,m=c.vertical?{height:0}:{width:0},p=c.vertical?{height:d.half}:{width:d.half};d.flipDivCols[e].animate(m,c.closeSpeed,c.easing,function(){if(k){d.flipDivs[g].show();d.flipDivCols[g].css(m);d.flipDivCols[g].animate(p,c.openSpeed,c.easing,function(){if(n){d.flipDivs[g].hide();d.panels[g].show();switch(f){case 0:case -1:b.quickFlip.flip(a,j,-1);break;case 1:break;default:b.quickFlip.flip(a,j,f-1)}}else n++})}else k++})}},removeFlipDivs:function(a){for(var h=0;h<b.quickFlip.wrappers[a].flipDivs.length;h++)b.quickFlip.wrappers[a].flipDivs[h].remove()}};
b.fn.quickFlip=function(a){this.each(function(){new b.quickFlip.init(a,this)});return this};b.fn.whichQuickFlip=function(){function a(c,d){if(!c||!d||!c.length||!d.length||c.length!=d.length)return o;for(var e=0;e<c.length;e++)if(c[e]!==d[e])return o;return true}for(var h=j,f=0;f<b.quickFlip.wrappers.length;f++)if(a(this,b(b.quickFlip.wrappers[f].wrapper)))h=f;return h};b.fn.quickFlipper=function(a,h,f){this.each(function(){var c=b(this),d=c.whichQuickFlip();if(d==j){c.quickFlip(a);d=c.whichQuickFlip()}b.quickFlip.flip(d,
h,f,a)})}})(jQuery);
