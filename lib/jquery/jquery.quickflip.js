(function(b){var g=null;b.quickFlip={wrappers:[],opts:[],objs:[],init:function(a,f){a=a||{};a.closeSpeed=a.closeSpeed||180;a.openSpeed=a.openSpeed||120;a.ctaSelector=a.ctaSelector||".quickFlipCta";a.refresh=a.refresh||false;a.easing=a.easing||"swing";a.noResize=a.noResize||false;a.vertical=a.vertical||false;var d=typeof f!="undefined"?b(f):b(".quickFlip"),c=d.children();d.css("position")=="static"&&d.css("position","relative");var e=b.quickFlip.wrappers.length;c.each(function(c){var d=b(this);a.ctaSelector&&
d.find(a.ctaSelector).click(function(a){a.preventDefault();b.quickFlip.flip(e)});c&&d.hide()});b.quickFlip.opts.push(a);b.quickFlip.objs.push({$box:b(d),$kids:b(c)});b.quickFlip.build(e);a.noResize||b(window).resize(function(){for(var a=0;a<b.quickFlip.wrappers.length;a++)b.quickFlip.removeFlipDivs(a),b.quickFlip.build(a)})},build:function(a,f){function d(a,d){function e(a,c){var d=b("<div></div>"),f=a.panels[c].clone().show();d.css(i);d.html(f);return d}var f=b("<div></div>");a.panels[d].html();
var i={width:c.vertical?c.panelWidth:a.half,height:c.vertical?a.half:c.panelHeight,position:"absolute",overflow:"hidden",margin:0,padding:0};c.vertical?i.left=0:i.top=0;var k=b(e(a,d)).appendTo(f),l=b(e(a,d)).appendTo(f);c.vertical?(k.css("bottom",a.half),l.css("top",a.half),l.children().css({top:g,bottom:0})):(k.css("right",a.half),l.css("left",a.half),l.children().css({right:0,left:"auto"}));return f}b.quickFlip.opts[a].panelWidth=b.quickFlip.opts[a].panelWidth||b.quickFlip.objs[a].$box.width();
b.quickFlip.opts[a].panelHeight=b.quickFlip.opts[a].panelHeight||b.quickFlip.objs[a].$box.height();var c=b.quickFlip.opts[a],e={wrapper:b.quickFlip.objs[a].$box,index:a,half:parseInt((c.vertical?c.panelHeight:c.panelWidth)/2),panels:[],flipDivs:[],flipDivCols:[],currPanel:f||0,options:c};b.quickFlip.objs[a].$kids.each(function(a){var f=b(this).css({position:"absolute",top:0,left:0,margin:0,padding:0,width:c.panelWidth,height:c.panelHeight});e.panels[a]=f;f=d(e,a).hide().appendTo(e.wrapper);e.flipDivs[a]=
f;e.flipDivCols[a]=f.children()});b.quickFlip.wrappers[a]=e},flip:function(a,f,d,c){if(!(typeof a!="number"||typeof b.quickFlip.wrappers[a]=="undefined")){var e=b.quickFlip.wrappers[a],j=e.currPanel,h=typeof f!="undefined"&&f!=g?f:e.panels.length>j+1?j+1:0;e.currPanel=h;d=typeof d!="undefined"&&d!=g?d:1;c=function(a,b){a=a||{};b=b||{};for(opt in a)b[opt]=a[opt];return b}(c,b.quickFlip.opts[a]);e.panels[j].hide();c.refresh&&(b.quickFlip.removeFlipDivs(a),b.quickFlip.build(a,h),e=b.quickFlip.wrappers[a]);
e.flipDivs[j].show();var m=0,n=0,i=c.vertical?{height:0}:{width:0},k=c.vertical?{height:e.half}:{width:e.half};e.flipDivCols[j].animate(i,c.closeSpeed,c.easing,function(){m?(e.flipDivs[h].show(),e.flipDivCols[h].css(i),e.flipDivCols[h].animate(k,c.openSpeed,c.easing,function(){if(n)switch(e.flipDivs[h].hide(),e.panels[h].show(),d){case 0:case -1:b.quickFlip.flip(a,g,-1);break;case 1:break;default:b.quickFlip.flip(a,g,d-1)}else n++})):m++})}},removeFlipDivs:function(a){for(var f=0;f<b.quickFlip.wrappers[a].flipDivs.length;f++)b.quickFlip.wrappers[a].flipDivs[f].remove()}};
b.fn.quickFlip=function(a){this.each(function(){new b.quickFlip.init(a,this)});return this};b.fn.whichQuickFlip=function(){for(var a=g,f=0;f<b.quickFlip.wrappers.length;f++){var d;a:if(d=b(b.quickFlip.wrappers[f].wrapper),!this||!d||!this.length||!d.length||this.length!=d.length)d=false;else{for(var c=0;c<this.length;c++)if(this[c]!==d[c]){d=false;break a}d=true}d&&(a=f)}return a};b.fn.quickFlipper=function(a,f,d){this.each(function(){var c=b(this),e=c.whichQuickFlip();e==g&&(c.quickFlip(a),e=c.whichQuickFlip());
b.quickFlip.flip(e,f,d,a)})}})(jQuery);
