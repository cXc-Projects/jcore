(function(b){var c=[],l=[],m=[],p=[],r=[],q=[],u=[],f=[],v=[],o=[],s=[];b.fn.coinslider=b.fn.CoinSlider=function(y){init=function(a){l[a.id]=[];m[a.id]=[];p[a.id]=[];r[a.id]=[];q[a.id]=[];f[a.id]=0;o[a.id]=0;s[a.id]=1;c[a.id]=b.extend({},b.fn.coinslider.defaults,y);b.each(b("#"+a.id+" img"),function(d,e){m[a.id][d]=b(e).attr("src");p[a.id][d]=b(e).parent().is("a")?b(e).parent().attr("href"):"";r[a.id][d]=b(e).parent().is("a")?b(e).parent().attr("target"):"";q[a.id][d]=b(e).next().is("span")?b(e).next().html():
"";b(e).hide();b(e).next().hide()});b(a).css({"background-image":"url("+m[a.id][0]+")",width:c[a.id].width,height:c[a.id].height,position:"relative","background-position":"top left"}).wrap("<div class='coin-slider' id='coin-slider-"+a.id+"' />");b("#"+a.id).append("<div class='cs-title' id='cs-title-"+a.id+"' style='position: absolute; bottom:0; left: 0; z-index: 1000;'></div>");b.setFields(a);c[a.id].navigation&&b.setNavigation(a);b.transition(a,0);b.transitionCall(a)};b.setFields=function(a){tWidth=
sWidth=parseInt(c[a.id].width/c[a.id].spw);tHeight=sHeight=parseInt(c[a.id].height/c[a.id].sph);counter=sLeft=sTop=0;tgapx=gapx=c[a.id].width-c[a.id].spw*sWidth;tgapy=gapy=c[a.id].height-c[a.id].sph*sHeight;for(i=1;i<=c[a.id].sph;i++){gapx=tgapx;if(gapy>0){gapy--;sHeight=tHeight+1}else sHeight=tHeight;for(j=1;j<=c[a.id].spw;j++){if(gapx>0){gapx--;sWidth=tWidth+1}else sWidth=tWidth;l[a.id][counter]=i+""+j;counter++;c[a.id].links?b("#"+a.id).append("<a href='"+p[a.id][0]+"' class='cs-"+a.id+"' id='cs-"+
a.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></a>"):b("#"+a.id).append("<div class='cs-"+a.id+"' id='cs-"+a.id+i+j+"' style='width:"+sWidth+"px; height:"+sHeight+"px; float: left; position: absolute;'></div>");b("#cs-"+a.id+i+j).css({"background-position":-sLeft+"px "+(-sTop+"px"),left:sLeft,top:sTop});sLeft+=sWidth}sTop+=sHeight;sLeft=0}b(".cs-"+a.id).mouseover(function(){b("#cs-navigation-"+a.id).show()});b(".cs-"+a.id).mouseout(function(){b("#cs-navigation-"+
a.id).hide()});b("#cs-title-"+a.id).mouseover(function(){b("#cs-navigation-"+a.id).show()});b("#cs-title-"+a.id).mouseout(function(){b("#cs-navigation-"+a.id).hide()});if(c[a.id].hoverPause){b(".cs-"+a.id).mouseover(function(){c[a.id].pause=true});b(".cs-"+a.id).mouseout(function(){c[a.id].pause=false});b("#cs-title-"+a.id).mouseover(function(){c[a.id].pause=true});b("#cs-title-"+a.id).mouseout(function(){c[a.id].pause=false})}};b.transitionCall=function(a){clearInterval(u[a.id]);delay=c[a.id].delay+
c[a.id].spw*c[a.id].sph*c[a.id].sDelay;u[a.id]=setInterval(function(){b.transition(a)},delay)};b.transition=function(a,d){if(c[a.id].pause!=true){b.effect(a);o[a.id]=0;v[a.id]=setInterval(function(){b.appereance(a,l[a.id][o[a.id]])},c[a.id].sDelay);b(a).css({"background-image":"url("+m[a.id][f[a.id]]+")"});if(typeof d=="undefined")f[a.id]++;else if(d=="prev")f[a.id]--;else f[a.id]=d;if(f[a.id]==m[a.id].length)f[a.id]=0;if(f[a.id]==-1)f[a.id]=m[a.id].length-1;b(".cs-button-"+a.id).removeClass("cs-active");
b("#cs-button-"+a.id+"-"+(f[a.id]+1)).addClass("cs-active");if(q[a.id][f[a.id]]){b("#cs-title-"+a.id).css({opacity:0}).animate({opacity:c[a.id].opacity},c[a.id].titleSpeed);b("#cs-title-"+a.id).html(q[a.id][f[a.id]])}else b("#cs-title-"+a.id).css("opacity",0)}};b.appereance=function(a,d){b(".cs-"+a.id).attr("href",p[a.id][f[a.id]]).attr("target",r[a.id][f[a.id]]);if(o[a.id]==c[a.id].spw*c[a.id].sph)clearInterval(v[a.id]);else{b("#cs-"+a.id+d).css({opacity:0,"background-image":"url("+m[a.id][f[a.id]]+
")"});b("#cs-"+a.id+d).animate({opacity:1},300);o[a.id]++}};b.setNavigation=function(a){b(a).append("<div id='cs-navigation-"+a.id+"'></div>");b("#cs-navigation-"+a.id).hide();b("#cs-navigation-"+a.id).append("<a href='#' id='cs-prev-"+a.id+"' class='cs-prev'>prev</a>");b("#cs-navigation-"+a.id).append("<a href='#' id='cs-next-"+a.id+"' class='cs-next'>next</a>");b("#cs-prev-"+a.id).css({position:"absolute",top:c[a.id].height/2-15,left:0,"z-index":1001,"line-height":"30px",opacity:c[a.id].opacity}).click(function(d){d.preventDefault();
b.transition(a,"prev");b.transitionCall(a)}).mouseover(function(){b("#cs-navigation-"+a.id).show()});b("#cs-next-"+a.id).css({position:"absolute",top:c[a.id].height/2-15,right:0,"z-index":1001,"line-height":"30px",opacity:c[a.id].opacity}).click(function(d){d.preventDefault();b.transition(a);b.transitionCall(a)}).mouseover(function(){b("#cs-navigation-"+a.id).show()});b("<div id='cs-buttons-"+a.id+"' class='cs-buttons'></div>").appendTo(b("#coin-slider-"+a.id));for(k=1;k<m[a.id].length+1;k++)b("#cs-buttons-"+
a.id).append("<a href='#' class='cs-button-"+a.id+"' id='cs-button-"+a.id+"-"+k+"'>"+k+"</a>");b.each(b(".cs-button-"+a.id),function(d,e){b(e).click(function(g){b(".cs-button-"+a.id).removeClass("cs-active");b(this).addClass("cs-active");g.preventDefault();b.transition(a,d);b.transitionCall(a)})});b("#cs-navigation-"+a.id+" a").mouseout(function(){b("#cs-navigation-"+a.id).hide();c[a.id].pause=false});b("#cs-buttons-"+a.id).css({left:"50%","margin-left":-m[a.id].length*15/2-5,position:"relative"})};
b.effect=function(a){effA=["random","swirl","rain","straight"];eff=c[a.id].effect==""?effA[Math.floor(Math.random()*effA.length)]:c[a.id].effect;l[a.id]=[];if(eff=="random"){counter=0;for(i=1;i<=c[a.id].sph;i++)for(j=1;j<=c[a.id].spw;j++){l[a.id][counter]=i+""+j;counter++}b.random(l[a.id])}eff=="rain"&&b.rain(a);eff=="swirl"&&b.swirl(a);eff=="straight"&&b.straight(a);s[a.id]*=-1;s[a.id]>0&&l[a.id].reverse()};b.random=function(a){var d=a.length;if(d==0)return false;for(;--d;){var e=Math.floor(Math.random()*
(d+1)),g=a[d];a[d]=a[e];a[e]=g}};b.swirl=function(a){for(var d=c[a.id].sph,e=c[a.id].spw,g=1,h=1,n=0,t=0,w=0,x=true;x;){t=n==0||n==2?e:d;for(i=1;i<=t;i++){l[a.id][w]=g+""+h;w++;if(i!=t)switch(n){case 0:h++;break;case 1:g++;break;case 2:h--;break;case 3:g--}}n=(n+1)%4;switch(n){case 0:e--;h++;break;case 1:d--;g++;break;case 2:e--;h--;break;case 3:d--;g--}check=b.max(d,e)-b.min(d,e);if(e<=check&&d<=check)x=false}};b.rain=function(a){for(var d=c[a.id].sph,e=c[a.id].spw,g=0,h=to2=from=1,n=true;n;){for(i=
from;i<=h;i++){l[a.id][g]=i+""+parseInt(to2-i+1);g++}to2++;h<d&&to2<e&&d<e&&h++;h<d&&d>=e&&h++;to2>e&&from++;if(from>h)n=false}};b.straight=function(a){counter=0;for(i=1;i<=c[a.id].sph;i++)for(j=1;j<=c[a.id].spw;j++){l[a.id][counter]=i+""+j;counter++}};b.min=function(a,d){return a>d?d:a};b.max=function(a,d){return a<d?d:a};this.each(function(){init(this)})};b.fn.coinslider.defaults={width:565,height:290,spw:7,sph:5,delay:3E3,sDelay:30,opacity:0.7,titleSpeed:500,effect:"",navigation:true,links:true,
hoverPause:true}})(jQuery);
