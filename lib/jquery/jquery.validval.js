(function(f){function t(a){if(l(a.val())==a.data("vv_placeholdervalue"))return true;return false}function n(a){if(a.hasClass(e("placeholder")))return true;return false}function o(a){if(n(a))if(t(a)&&!a.is("select")){a.val("");a.removeClass(e("inactive"))}}function u(a){if(n(a))if(l(a.val())==""&&!a.is("select")){a.val(a.data("vv_placeholdervalue"));a.addClass(e("inactive"))}}function p(a){(a.hasClass(e("formatted"))?true:false)&&a.val(a.data("vv_format_text"))}function v(a){if(a.hasClass(e("formatted"))?
true:false){var c;c=a.val();c=l(c);for(var d=[" ","-","+","(",")","/","\\"],i=0;i<d.length;i++)c=c.split(d[i]).join("");c=c;d=a.data("vv_format");a.data("vv_format_text",c);for(i=0;i<c.length&&i<d.length;i++)d=d.replace("_",c[i]);a.val(d)}}function w(a,c){if(typeof a.attr(c)=="undefined")return false;if(a.attr(c)==="false"||a.attr(c)===false)return false;return true}function A(a,c){if(a.attr("type")==c)return true;if(a.is('input[type="'+c+'"]'))return true;var d=q(a);if(d.indexOf('type="'+c+'"')!=
-1||d.indexOf("type='"+c+"'")!=-1||d.indexOf("type="+c+"")!=-1)return true;return false}function B(a){var c=q(a);c.toLowerCase();if(a.is("select")){num=0;a.find("> option").each(function(d){c=q(f(this));var i=c.split("'").join('"').split('"').join("");i=i.substr(0,i.indexOf(">"));if(i.indexOf("selected=selected")>-1)num=d});a.data("vv_placeholder_option_number",num);return z(a.find("> option:nth("+num+")"))}else if(a.is("textarea")){c=c.substr(c.indexOf(">")+1);return c=c.substr(0,c.indexOf("</t"))}else return z(a)}
function z(a){a=q(a);var c=a.toLowerCase();if(c.indexOf("value=")>-1){a=a.substr(c.indexOf("value=")+6);c=a.substr(0,1);if(c=='"'||c=="'"){a=a.substr(1);a=a.substr(0,a.indexOf(c))}else a=a.substr(0,a.indexOf(" "));return a}else return""}function q(a){return f("<div></div>").append(a.clone()).html()}function e(a){if(typeof clss!="undefined"&&typeof clss[a]!="undefined")return clss[a];return a}function l(a){if(typeof a=="undefined")return"";if(a.length==0)return"";return a.replace(/^\s\s*/,"").replace(/\s\s*$/,
"")}f.fn.validVal=function(a){if(this.length>1)return this.each(function(){f(this).validVal(a)});var c=this,d=f.extend({},f.fn.validVal.defaults,a),i={required:"required",corresponding:"corresponding",number:"number",email:"email"},x=d.supportHtml5?"input:not(:button|:submit|:reset), textarea, select":"input[class]:not(:button|:submit|:reset), textarea[class], select[class]";if(f.fn.validVal.customValidations)d.customValidations=f.extend({},f.fn.validVal.customValidations,d.customValidations);f(x,
c).each(function(){var b=f(this);if(d.supportHtml5){var h=["required","autofocus"],g=["placeholder"];typ=["number","email"];w(b,"placeholder")&&b.attr("placeholder").length>0&&b.val(b.attr("placeholder"));for(var j=0;j<h.length;j++)if(w(b,h[j])){b.addClass(e(h[j]));b.removeAttr(h[j])}for(j=0;j<g.length;j++)if(w(b,g[j])&&b.attr(g[j]).length>0){b.addClass(e(g[j]));b.removeAttr(g[j])}for(h=0;h<typ.length;h++)A(b,typ[h])&&b.addClass(e(typ[h]))}h=B(b);b.data("vv_placeholdervalue",h).data("vv_format",h).data("vv_format_text",
"").data("vv_type",b.attr("type"));b.bind("focus",function(){o(b);p(b);b.addClass(e("focus"))}).bind("blur",function(){b.removeClass(e("focus"));b.trigger("test",d.validate.onBlur);v(b);u(b)}).bind("keyup",function(){b.trigger("test",d.validate.onKeyup)}).bind("test",function(C,y){if(y!==false){b.data("vv_isValid","valid");if(!(b.is(":hidden")&&!d.validate.hiddenFields))if(!(b.is(":disabled")&&!d.validate.disabledFields)){val=l(b.val());for(var m in i){var r=i[m];if(b.hasClass(r))if(!eval("vv_is_"+
m+"( $ff, val )")){b.data("vv_isValid","NOT");break}}if(b.data("vv_isValid")=="valid")for(r in d.customValidations){m=d.customValidations[r];if(typeof m=="function"&&b.hasClass(r))if(!m(b,val)){b.data("vv_isValid","NOT");break}}if(b.data("vv_isValid")=="valid")y!=="invalid"&&d.validFieldFunc&&d.validFieldFunc(b,c,d.language);else y!=="valid"&&d.invalidFieldFunc&&d.invalidFieldFunc(b,c,d.language)}}});if(n(b)){t(b)&&b.addClass(e("inactive"));if(b.is("select")){b.find("option:nth("+b.data("vv_placeholder_option_number")+
")").addClass(e("inactive"));b.change(function(){t(b)?b.addClass(e("inactive")):b.removeClass(e("inactive"))})}}b.hasClass(e("corresponding"))&&f("[name="+b.attr("alt")+"]").blur(function(){if(l(b.val()).length>0){p(b);o(b);b.trigger("test",d.validate.onBlur);v(b);u(b)}});if(b.hasClass(e("autotab"))){var k=b.attr("maxlength");h=b.attr("tabindex");var s=f("[tabindex="+(parseInt(h)+1)+"]");if(b.is("select"))h&&b.change(function(){s.length&&s.focus()});else k&&h&&b.keyup(function(){if(b.val().length==
k){s.length&&s.focus();b.trigger("blur")}})}b.hasClass(e("autofocus"))&&!b.is(":disabled")&&b.focus()}).filter("select, :checkbox, :radio").change(function(){f(this).trigger("blur")});c.submitform=function(){var b=[],h={};f(x,c).each(function(){var g=f(this);o(g);p(g);g.trigger("test",d.validate.onSubmit);var j=g.attr("name"),k=g.val();u(g);v(g);if(g.data("vv_isValid")=="valid"){if(g.is(":radio")||g.is(":checkbox"))g.is(":checked")||(k="");if(k.length>0)h[j]=k}else d.validate.onSubmit!==false&&b.push(g)});
if(b.length>0){d.invalidFormFunc&&d.invalidFormFunc(b,c,d.language);b[0].focus();return false}else{f("input:text",c).each(function(){var g=f(this);o(g);p(g)});return h}};c.resetform=function(){f(x,c).each(function(){var b=f(this);n(b)&&b.addClass(e("inactive"));d.validFieldFunc&&d.validFieldFunc(b,c,d.language)});return true};if(c.is("form")){c.attr("novalidate","novalidate");c[0].onsubmit=function(){return c.submitform()};c[0].onreset=function(){return c.resetform()}}return this};f.fn.validVal.defaults=
{supportHtml5:true,language:"en",customValidations:{},validate:{onBlur:true,onSubmit:true,onKeyup:false,hiddenFields:false,disabledFields:false},invalidFieldFunc:function(a){if(a.is(":radio")||a.is(":checkbox"))a.parent().addClass(e("invalid"));a.addClass(e("invalid"))},validFieldFunc:function(a){if(a.is(":radio")||a.is(":checkbox"))a.parent().removeClass(e("invalid"));a.removeClass(e("invalid"))},invalidFormFunc:function(a,c,d){switch(d){case "nl":msg="Let op, niet alle velden zijn correct ingevuld.";
break;case "de":msg="Achtung, nicht alle Felder sind korrekt ausgefuellt.";break;default:msg="Attention, not all the fields have been filled out correctly."}alert(msg)}}})(jQuery);
