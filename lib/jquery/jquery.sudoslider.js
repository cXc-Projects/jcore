(function(e){e.fn.sudoSlider=function(g){if(typeof g!="object"&&g!=""&&g)this.each(function(){e(this).trigger("sudoSliderEvent",[g])});else{g=e.extend({prevNext:true,prevHtml:'<a href="#" class="prevBtn"> previous </a>',nextHtml:'<a href="#" class="nextBtn"> next </a>',controlsShow:true,controlsAttr:'id="controls"',controlsFadeSpeed:"400",controlsFade:true,insertAfter:true,firstShow:false,firstHtml:'<a href="#" class="firstBtn"> first </a>',lastShow:false,lastHtml:'<a href="#" class="lastBtn"> last </a>',
numericAttr:'class="controls"',numericText:["1"],vertical:false,speed:"800",ease:"swing",auto:false,pause:"2000",continuous:false,clickableAni:false,numeric:false,updateBefore:false,history:false,speedhistory:"400",autoheight:true,customLink:false,fade:false,crossFade:true,fadespeed:"1000",ajax:false,loadingText:false,preloadAjax:false,startSlide:false,imgAjaxFunction:false,docAjaxFunction:false,beforeAniFunc:false,afterAniFunc:false,uncurrentFunc:false,currentFunc:false},g);var L=g.controlsFadeSpeed,
ga=g.controlsFade,ha=g.firstShow,ia=g.lastShow,V=g.vertical,F=g.speed,aa=g.ease,B=g.auto,M=g.pause,G=g.continuous,ja=g.prevNext,Ba=g.numeric,Ca=g.numericAttr,C=g.numericText,N=g.history,O=g.speedhistory,P=g.autoheight,D=g.customLink,Da=g.fade,ka=g.crossFade,v=g.fadespeed,ba=g.updateBefore,i=g.ajax,la=g.startSlide,ma=g.imgAjaxFunction,na=g.docAjaxFunction,Q=g.beforeAniFunc,H=g.afterAniFunc,oa=g.uncurrentFunc,pa=g.currentFunc;return this.each(function(){function Ea(){var b=["Spinning up the hamster",
"Programming the flux capacitor","Testing data on Timmy... ... ... We need another Timmy","Warming up Large Hadron Collider","It looks like you're waiting for something to load"];return g.loadingText?g.loadingText:b[Math.round(Math.random()*(b.length-1))]+"..."}function R(b,c){W||(Da?Fa(b,c):I(b,c,true))}function X(b,c){var f=e(b);S.prepend(f);f.click(function(){R(c,true);return false});return f}function T(b){if(parseInt(b))var c=parseInt(b);else{c=400;switch(b){case "fast":c=200;break;case "normal":c=
400;break;case "medium":c=400;break;case "slow":c=600}}return c}function ca(b,c){b.each(function(){var f=this.tagName.toLowerCase()==="img"?e(this):e("img",this),d=this,j=0,q=function(){typeof c==="function"&&c(d)};f.length?f.each(function(){var r=this,z=function(w){if(r.complete||r.readyState=="complete"&&w.type=="readystatechange")++j===f.length&&q();else r.readyState===undefined&&e(r).attr("src",e(r).attr("src"))};e(r).bind("load readystatechange",function(w){z(w)});z({type:"readystatechange"})}):
q()})}function qa(b){var c=false,f=b.length,d=b.substr(f-4,4);if(d==".jpg"||d==".png"||d==".bmp"||d==".gif")c=true;d=b.substr(f-5,5);if(d==".jpeg")c=true;return c}function Y(b,c,f){if(f){f=Ga;var d=Ha,j="next",q="last",r=ia}else{f=Ia;d=Ja;j="prev";q="first";r=ha}if(!G){ja&&f.fadeTo(c,b,function(){b==0&&e(this).hide()});r&&d.fadeTo(c,b,function(){b==0&&e(this).hide()});D&&e(D).filter(function(){return e(this).attr("rel")==j||e(this).attr("rel")==q}).fadeTo(c,b,function(){b==0&&e(this).hide()})}}function ra(b,
c){b==0?Y(0,c,false):Y(1,c,false);b==m?Y(0,c,true):Y(1,c,true)}function da(b){b=parseInt(b>m?b=0:b<0?b=m:b)+1;for(var c=0;c<ea.length;c++)sa(ea[c],b);D&&sa(D,b)}function sa(b,c){e(b).filter(".current").removeClass("current").each(function(){e.isFunction(oa)&&oa.call(this,e(this).attr("rel"))});e(b).filter(function(){return e(this).attr("rel")==c}).addClass("current").each(function(){e.isFunction(pa)&&pa.call(this,c)})}function ta(b){for(var c=0,f=0;f<=o;f+=1)if(C[f]==b)c=f;return c}function J(b,c){if(b==
o)b=0;var f=n.eq(b),d=f.height();d!=0&&ua(d,c);ca(f,function(j){d=e(j).height();d!=0&&ua(d,c)})}function ua(b,c){s.animate({height:b},{queue:false,duration:c,easing:aa})}function va(){if(h>m)h=0;if(h<0)h=m;ba||da(h);V?l.css("margin-top",h*U*-1):l.css("margin-left",h*A*-1);t=true;if(N&&wa)window.location.hash=C[h];x||e.isFunction(H)&&H.call(n.eq(h),h+1)}function Z(b,c){var f=h;switch(b){case "next":f=c>=m?G?f+1:m:f+1;break;case "prev":f=h<=0?G?f-1:0:f-1;break;case "first":f=0;break;case "last":f=m;
break;default:f=parseInt(b)}return f}function u(b,c,f,d){var j=false;j=parseInt(b)||b==0?n.eq(b):b=="last"?e("li:last",s):e("li:first",s);var q=x?!ka?parseInt(v*0.4):v:d,r=c+1;if(qa(i[c])){j.html(" ").append(e(new Image).attr("src",i[c]));ca(j,function(z){var w=e(z).children(),E=w.width(),xa=w.height();w.attr({oldheight:xa,oldwidth:E});E>A&&w.animate({width:A,height:xa/E*A},0);e.isFunction(ma)&&ma.call(e(z),r);P&&f&&J(h,q)})}else j.load(i[c],function(z,w,E){if(w=="error"||!e(this).html())e(this).html("Sorry but there was an error: "+
(E.status?E.status:"no content")+" "+E.statusText);w!="error"&&e.isFunction(na)&&na.call(e(this),r);P&&f&&J(c,q)})}function Fa(b,c){if(b!=h&&!W)if(t){$=false;c&&clearTimeout(K);ba&&da(Z(b,y));t=!c;var f=!c&&!B&&N?v*(O/F):v,d=Z(b,y);if(d>m)d=0;if(d<0)d=m;ga&&ra(d,L);if(P)if(i)i[d]||J(d,v);else J(d,v);var j=n.eq(d);e.isFunction(Q)&&Q.call(j,d+1);if(ka){var q=j.clone().prependTo(s).css({"z-index":"100000",position:"absolute","list-style":"none",top:"0",left:"0"});if(i[d]){u(0,d,false,f);if(qa(i[d])){u(d+
1,d,false,f);ca(n.eq(d+1),function(){P&&J(d,v)})}else u(d+1,d,true,f);i[d]=false}q.hide().fadeIn(v,function(){x=t=true;I(b,false,false);e(this).remove();if(N&&c)window.location.hash=C[h];x=false;e.isFunction(H)&&H.call(j,d+1)})}else{var r=parseInt(f*0.6);f=f-r;var z=n.children();z.stop().fadeTo(f,1.0E-4,function(){x=t=true;I(b,false,false);t=!c;z.add(n).stop().fadeTo(r,1,function(){if(N&&c)window.location.hash=C[h];t=true;x=false;e.isFunction(H)&&H.call(j,d+1)})})}}}function I(b,c,f){if(t&&!W&&(Z(b,
y)!=h||ya)){$=false;t=!c&&!B?true:g.clickableAni;wa=c;y=h;h=Z(b,y);ba&&da(h);var d=Math.sqrt(Math.abs(y-h)),j=parseInt(d*F);if(!c&&!B)j=parseInt(d*O);f||(j=0);d=h;if(h>m)d=0;if(h<0)d=m;if(i){if(i[d]){u(d,d,true,j);i[d]=false;$=true}if(!x){var q=0;if(y>h)for(a=h;a<=y;a++){if(a<=m&&a>=0)if(i[a]){u(a,a,false,j);i[a]=false;q++}if(q==10)a=y}else for(a=y;a<=h;a++){if(a<=m&&a>=0)if(i[a]){u(a,a,false,j);i[a]=false;q++}if(q==10)a=h}}if(d+1<=m)if(i[d+1]){u(d+1,d+1,false,0);i[d+1]=false}if(d-1>=0)if(i[d-1]){u(d-
1,d-1,false,0);i[d-1]=false}}if(!x)if(e.isFunction(Q)){Q.call(n.eq(d),d+1);if(h==-1||h==o)Q.call(l.children("li").eq(h==-1?0:-1),d+1)}if(V){p=h*U*-1;l.animate({marginTop:p},{queue:false,duration:j,easing:aa,complete:va})}else{P&&!x&&!$&&J(h,j);p=h*A*-1;l.animate({marginLeft:p},{queue:false,duration:j,easing:aa,complete:va})}if(ga){j=L;if(!c&&!B)j=O/F*L;f||(j=0);if(x)j=parseInt(v*0.6);ra(h,j)}c&&clearTimeout(K);if(B&&b=="next"&&!c)K=fa(M+F);ya=false}}function fa(b){return setTimeout(function(){R("next",
false)},b)}function za(b){if(b=="stop")clearTimeout(K);else if(b=="start"){K=fa(M);B=true}else if(b=="block")t=false;else if(b=="unblock")t=true;else if(b=="action")alert("The slider just performed an action");else if(b=="destroy"){S.remove();W=true;e(D).die("click");if(G){l.children("li").eq(0).remove();l.children("li").eq(-1).remove()}}else if(t)R(b==parseInt(b)?b-1:b,true)}var ya=true;if(B)G=true;var s=e(this),l=s.children("ul"),n=l.children("li"),o=n.length,A=n.eq(0).width(),U=s.height();if(i){if(l.length==
0){s.append("<ul></ul>");l=s.children("ul")}if(i.length>o){for(var k=1;k<=i.length-o;k++)l.append("<li><p>"+Ea()+"</p></li>");n=l.children("li");o=n.length;A=n.eq(0).width()}}var h=0,y=h,m=o-1,t=true,wa=false,x=false,$=false,ea=[],Aa=false,W=false;s.css("overflow","hidden");s.css("position")=="static"&&s.css("position","relative");n.css("float","left");for(k=0;k<o;k++){if(C[k]==undefined)C[k]=k+1;if(i&&i[k]==undefined)i[k]=false}if(G){if(V){l.prepend(n.filter(":last-child").clone().css("margin-top",
"-"+U+"px"));l.append(n.filter(":nth-child(2)").clone());l.height((o+1)*U)}else{l.prepend(n.filter(":last-child").clone().css("margin-left","-"+A+"px"));l.append(n.filter(":nth-child(2)").clone());l.width((o+1)*A)}if(i){i[0]&&u("last",0,false,0);if(i[o-1]){u("first",o-1,false,0);u(m,m,false,0);i[o-1]=false}}}else V?l.height(o*U):l.width(o*A);if(g.controlsShow){var S=e("<span "+g.controlsAttr+"></span>");g.insertAfter?e(s).after(S):e(s).before(S);if(Ba){Aa=S.prepend("<ol "+Ca+"></ol>").children();
for(k=0;k<o;k++)ea[k]=e(document.createElement("li")).attr({rel:k+1}).html('<a href="#"><span>'+C[k]+"</span></a>").appendTo(Aa).click(function(){R(e(this).attr("rel")-1,true);return false})}if(ha)var Ja=X(g.firstHtml,"first");if(ia)var Ha=X(g.lastHtml,"last");if(ja)var Ga=X(g.nextHtml,"next"),Ia=X(g.prevHtml,"prev")}if(g.preloadAjax)for(k=0;k<=m;k++)if(i[k]){u(k,k,false,0);i[k]=false}L=T(L);F=T(F);M=T(M);O=T(O);v=T(v);var K;if(B)K=fa(M);D&&e(D).live("click",function(){var b=e(this).attr("rel");b&&
za(b);return false});s.bind("sudoSliderEvent",function(b,c){za(c)});if(N)e.address.init(function(b){b=ta(b.value);I(b,false,false)}).change(function(b){b=ta(b.value);b!=h&&R(b,false)});else la?I(la-1,false,false):I(0,false,false)})}}})(jQuery);
