(function(g){g.fn.mCustomScrollbar=function(y,z,A,q,B,C,D,o){function E(l){function r(){a.removeClass("dragger_pressed")}if(y=="horizontal"){var s=c.width();F.css("width",999999);c.data("totalContent",e.width());F.css("width",c.data("totalContent"));if(e.width()>s){a.css("display","block");if(l!="resize"&&e.width()!=c.data("contentWidth")){a.css("left",0);e.css("left",0);c.data("contentWidth",e.width())}d.css("display","block");h.css("display","inline-block");i.css("display","inline-block");var k=
G.width(),H=c.data("minDraggerWidth"),t=d.width();(function(){if(B=="auto"){var b=Math.round(k-(k-s)*1.3);if(b<=H)a.css("width",H+"px");else b>=t?a.css("width",t-10+"px"):a.css("width",b+"px")}})();l=a.width();a.draggable({axis:"x",containment:"parent",drag:function(){m()},stop:function(){r()}});d.click(function(b){var f=g(this);b=b.pageX-f.offset().left;if(b<a.position().left||b>a.position().left+a.width()){b+a.width()<d.width()?a.css("left",b):a.css("left",d.width()-a.width());m()}});g(function(){if(C==
"yes"){c.unbind("mousewheel");c.bind("mousewheel",function(b,f){var u=Math.abs(f*10);a.css("left",a.position().left-f*u);m();if(a.position().left<0){a.css("left",0);e.stop();m()}if(a.position().left>d.width()-a.width()){a.css("left",d.width()-a.width());e.stop();m()}return false})}});if(D=="yes"){h.mouseup(function(){clearInterval(btnsScrollTimerX);a.stop()}).mousedown(function(){I("down")});i.mouseup(function(){clearInterval(btnsScrollTimerX);a.stop()}).mousedown(function(){I("up")});h.click(function(b){b.preventDefault()});
i.click(function(b){b.preventDefault()});btnsScrollTimerX=0;var I=function(b){if(b=="down"){b=d.width()-a.width();var f=Math.abs(a.position().left-b)*(100/o);a.stop().animate({left:b},f,"linear")}else{b=0;f=Math.abs(a.position().left-b)*(100/o);a.stop().animate({left:-b},f,"linear")}clearInterval(btnsScrollTimerX);btnsScrollTimerX=setInterval(m,20)}}var v=(k-s)/(t-l),m=function(){var b=-a.position().left*v;b=e.position().left-b;e.stop().animate({left:"-="+b},z,A)}}else{a.css("left",0).css("display",
"none");e.css("left",0);d.css("display","none");h.css("display","none");i.css("display","none")}}else{var w=c.height();if(e.height()>w){a.css("display","block");if(l!="resize"&&e.height()!=c.data("contentHeight")){a.css("top",0);e.css("top",0);c.data("contentHeight",e.height())}d.css("display","block");h.css("display","inline-block");i.css("display","inline-block");k=G.height();var x=c.data("minDraggerHeight"),p=d.height();(function(){if(B=="auto"){var b=Math.round(k-(k-w)*1.3);if(b<=x)a.css("height",
x+"px").css("line-height",x+"px");else b>=p?a.css("height",p-10+"px").css("line-height",p-10+"px"):a.css("height",b+"px").css("line-height",b+"px")}})();l=a.height();a.draggable({axis:"y",containment:"parent",drag:function(){n()},stop:function(){r()}});d.click(function(b){var f=g(this);b=b.pageY-f.offset().top;if(b<a.position().top||b>a.position().top+a.height()){b+a.height()<d.height()?a.css("top",b):a.css("top",d.height()-a.height());n()}});g(function(){if(C=="yes"){c.unbind("mousewheel");c.bind("mousewheel",
function(b,f){var u=Math.abs(f*10);a.css("top",a.position().top-f*u);n();if(a.position().top<0){a.css("top",0);e.stop();n()}if(a.position().top>d.height()-a.height()){a.css("top",d.height()-a.height());e.stop();n()}return false})}});if(D=="yes"){h.mouseup(function(){clearInterval(btnsScrollTimer);a.stop()}).mousedown(function(){J("down")});i.mouseup(function(){clearInterval(btnsScrollTimer);a.stop()}).mousedown(function(){J("up")});h.click(function(b){b.preventDefault()});i.click(function(b){b.preventDefault()});
btnsScrollTimer=0;var J=function(b){if(b=="down"){b=d.height()-a.height();var f=Math.abs(a.position().top-b)*(100/o);a.stop().animate({top:b},f,"linear")}else{b=0;f=Math.abs(a.position().top-b)*(100/o);a.stop().animate({top:-b},f,"linear")}clearInterval(btnsScrollTimer);btnsScrollTimer=setInterval(n,20)}}if(q<1)q=1;v=(k-w/q)/(p-l);var n=function(){var b=-a.position().top*v;b=e.position().top-b;e.stop().animate({top:"-="+b},z,A)}}else{a.css("top",0).css("display","none");e.css("top",0);d.css("display",
"none");h.css("display","none");i.css("display","none")}}a.mouseup(function(){r()}).mousedown(function(){a.addClass("dragger_pressed")})}var j=g(this).attr("id"),c=g("#"+j+" .customScrollBox"),e=g("#"+j+" .customScrollBox .container"),G=g("#"+j+" .customScrollBox .content"),d=g("#"+j+" .dragger_container"),a=g("#"+j+" .dragger"),i=g("#"+j+" .scrollUpBtn"),h=g("#"+j+" .scrollDownBtn"),F=g("#"+j+" .customScrollBox .horWrapper");c.data("minDraggerHeight")||c.data("minDraggerHeight",a.height());c.data("minDraggerWidth")||
c.data("minDraggerWidth",a.width());c.data("contentHeight")||c.data("contentHeight",e.height());c.data("contentWidth")||c.data("contentWidth",e.width());E();g(window).resize(function(){if(y=="horizontal")a.position().left>d.width()-a.width()&&a.css("left",d.width()-a.width());else a.position().top>d.height()-a.height()&&a.css("top",d.height()-a.height());E("resize")})}})(jQuery);
