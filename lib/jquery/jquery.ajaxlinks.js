jQuery.ajaxParseScript=function(a,b){scripts=a.match(/<script.*?>.*?<\/script>/gi);for(var d in scripts)if(jscript=jQuery(scripts[d]),jscript.attr("src")){var c=document.createElement("script");c.type="text/javascript";c.src=jscript.attr("src");typeof b=="object"?b.append(c):jQuery("body").append(c)}else eval(jscript.text())};
jQuery.fn.ajaxLink=function(){jQuery(this).click(function(){var a=jQuery(this).attr("href");a.indexOf("ajax=")==-1&&(a=a.indexOf("?")==-1?a.replace(/#.*/,"")+"?ajax=1":a.replace(/#.*/,"")+"&ajax=1");jQuery.get(a,function(a){jQuery.loading(!1);jQuery.loading(!0,{html:a.replace(/<script.*?>.*?<\/script>/gi,""),text:"",max:5E3});jQuery.ajaxParseScript(a)});return!1})};
jQuery.fn.ajaxDownloadLink=function(){jQuery(this).click(function(){var a=jQuery(this).attr("href");a.indexOf("ajax=")==-1&&(a=a.indexOf("?")==-1?a.replace(/#.*/,"")+"?ajax=1":a.replace(/#.*/,"")+"&ajax=1");jQuery.get(a+"&check=1",function(b){error=b.match(/error/gi);jQuery.loading(!0,{html:b,text:"",max:5E3});if(!error)window.location=a});return!1})};
jQuery.fn.ajaxPaging=function(){jQuery(this).click(function(){var a=jQuery(this).parent().parent().parent().parent(),b=jQuery(this).attr("href");b.indexOf("ajax=")==-1&&(b=b.indexOf("?")==-1?b.replace(/#.*/,"")+"?ajax=1":b.replace(/#.*/,"")+"&ajax=1");jQuery.get(b,function(b){a.html(b).jCore();jQuery(window).scrollTop()>a.offset().top&&jQuery("html,body").animate({scrollTop:a.offset().top-10},50,"linear")});return!1})};
jQuery.fn.ajaxContentLink=function(){jQuery(this).click(function(){var a=jQuery(this),b=a.attr("href"),d=a.attr("title");b.indexOf("ajax=")==-1&&(b=b.indexOf("?")==-1?b.replace(/#.*/,"")+"?ajax=1":b.replace(/#.*/,"")+"&ajax=1");if(a.attr("target")){var c=jQuery(a.attr("target"));jQuery.get(b,function(a){c.html(a.replace(/<script.*?>.*?<\/script>/gi,"")).jCore();jQuery.ajaxParseScript(a,c)});return!1}if(JCORE_VERSION<"0.7"){if(typeof jQuery(this).qtip=="undefined")return!0;if(jQuery(this).data("qtip"))return jQuery(this).qtip("show"),
!1;jQuery(this).qtip({content:{url:b,title:{text:d,button:"<span>Close</span>"}},style:{name:"cream",tip:!0,width:{max:700}},position:{adjust:{screen:!0}},show:!1,hide:!1,api:{onContentUpdate:function(){this.elements.content.jCore()}}});jQuery(this).qtip("show");return!1}if(typeof a.tipsy=="undefined")return!0;if(a.data("tipsy"))return a.data("tipsy").$tip.is(":visible")?a.data("tipsy").$tip.hide():(a.data("tipsy").$tip.show(),a.tipsy("update")),!1;a.attr("title","Loading "+d+" ... &nbsp; &nbsp; &nbsp;");
a.tipsy({trigger:"manual",html:!0,opacity:1,additionalClassName:"tipsy-big",closeButton:!0,gravity:"n"});a.tipsy("show");jQuery.get(b,function(b){var c=a.data("tipsy").$tip.find(".tipsy-inner");c.html(b.replace(/<script.*?>.*?<\/script>/gi,"")).jCore();jQuery.ajaxParseScript(b,c);a.tipsy("update")});return!1})};jQuery.fn.ajaxLightboxLink=function(){jQuery(this).lightBox({hideDetails:!0,disableNavigation:!0,ajaxContent:!0})};
