(function(e){e.hoverAttribute=function(f,g){var a=this;a.options=e.extend({},e.hoverAttribute.defaults,g);if(a.options.highlightURLPart=="domain")a.options.highlightURLPart="host";a.$el=e(f);a.el=f;a.$el.$parent=a.$el.parent();a.$el.initWidth=a.$el.width();a.$el.initHeight=a.$el.height();var i=a.$el.html(),d=a.$el.attr(a.options.attribute);a.init=function(){a.setupCSS();if((a.options.attribute=="href"||a.options.parseAsURL==true)&&a.options.parseAsURL!=false)a.buildNiceHref();a.buildContent();a.setupHovering()};
a.setupCSS=function(){a.spanCSSDefaults={display:"block",position:"absolute",top:"0",overflow:"hidden",width:"auto","white-space":"nowrap"};a.spanCSSVisible={opacity:"1"};a.spanCSSHidden={opacity:"0"};var b=a.options.tweenInFrom,c="0";if(b=="left")c="-10px";else if(b=="top")c="-"+a.$el.initHeight+"px";else if(b=="right")c="10px";else if(b=="bottom")c=a.$el.initHeight+"px";if(b=="left"||b=="right"){a.spanCSSVisible.left="0";a.spanCSSHidden.left=c}else if(b=="top"||b=="bottom"){a.spanCSSVisible.top=
"0";a.spanCSSHidden.top=c}};a.buildNiceHref=function(){if(a.options.removeProtocol)d=d.replace(/^(mailto:|(http|https|ftp):\/\/)/,"");if(a.options.removeWWW)d=d.replace("www.","");if(a.options.wrapLink!="none"){var b=true,c=a.options.wrapLength;if(c=="auto")c=i.length-3;else if(c=="none"||c<=0)b=false;if(b&&d.length>c+3){b=a.options.wrapLink;if(b=="after")d=d.substr(0,c)+"...";else if(b=="before"){b=d.length;d="..."+d.substr(b-c,b-1)}else if(b=="middle"){b=d.substr(0,Math.floor(d.length/2));var h=
d.substr(b.length,d.length);b=b.substr(0,Math.floor(c/2));h=h.substr(h.length-Math.ceil(c/2),h.length);d=b+"..."+h}}}if(a.options.highlightURLPart!="none"){c=parseUri(d);b=a.options.highlightURLPart;a.highlightPart=function(j){d=d.replace(j,"<span class='hoverattribute-highlight'>"+j+"</span>")};if(b=="lastURIPart"){c=c.path.match(/[a-zA-Z0-9-_]+\/?$/i);a.highlightPart(c)}else c[b]!=undefined&&c[b]!=""&&a.highlightPart(c[b])}};a.buildContent=function(){a.$el.css({display:"block",position:"relative",
width:a.$el.initWidth+"px",height:a.$el.height()+"px",overflow:"hidden"}).html("<span class='hoverattribute-title'>"+i+"</span>").append("<span class='hoverattribute-attr'></span>");e(".hoverattribute-title",a.$el).css(e.extend({},a.spanCSSDefaults,a.spanCSSVisible));e(".hoverattribute-attr",a.$el).css(e.extend({},a.spanCSSDefaults,a.spanCSSHidden)).css({width:"auto",height:a.$el.initHeight+"px"}).html(d)};a.setupHovering=function(){var b=a.options.animationTime*1E3,c=a.options.animationEase;a.$el.bind("mouseover",
function(){a.options.cssSettings.canExpandToFullWidth&&e(this).css("width",a.$el.$parent.width()+"px");e(".hoverattribute-title",this).stop().animate(a.spanCSSHidden,b,c);e(".hoverattribute-attr",this).stop().animate(a.spanCSSVisible,b,c)}).bind("mouseout",function(){var h=e(this);e(".hoverattribute-title",this).stop().animate(a.spanCSSVisible,b,c);e(".hoverattribute-attr",this).stop().animate(a.spanCSSHidden,b,c,function(){h.css("width",a.$el.initWidth+"px")})})};a.init()};e.hoverAttribute.defaults=
{attribute:"href",animationTime:0.3,animationEase:"swing",tweenInFrom:"left",parseAsURL:null,removeProtocol:false,removeWWW:false,wrapLink:"after",wrapLength:60,highlightURLPart:"host",cssSettings:{canExpandToFullWidth:true}};e.fn.hoverAttribute=function(f){return this.each(function(){new e.hoverAttribute(this,f)})}})(jQuery);
function parseUri(e){var f=parseUri.options;e=f.parser[f.strictMode?"strict":"loose"].exec(e);for(var g={},a=14;a--;)g[f.key[a]]=e[a]||"";g[f.q.name]={};g[f.key[12]].replace(f.q.parser,function(i,d,b){if(d)g[f.q.name][d]=b});return g}
parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
