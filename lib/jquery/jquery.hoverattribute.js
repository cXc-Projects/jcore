(function(c){c.hoverAttribute=function(f,g){var a=this;a.options=c.extend({},c.hoverAttribute.defaults,g);if(a.options.highlightURLPart=="domain")a.options.highlightURLPart="host";a.$el=c(f);a.el=f;a.$el.$parent=a.$el.parent();a.$el.initWidth=a.$el.width();a.$el.initHeight=a.$el.height();var h=a.$el.html(),e=a.$el.attr(a.options.attribute);a.init=function(){a.setupCSS();(a.options.attribute=="href"||a.options.parseAsURL==!0)&&a.options.parseAsURL!=!1&&a.buildNiceHref();a.buildContent();a.setupHovering()};
a.setupCSS=function(){a.spanCSSDefaults={display:"block",position:"absolute",top:"0",overflow:"hidden",width:"auto","white-space":"nowrap"};a.spanCSSVisible={opacity:"1"};a.spanCSSHidden={opacity:"0"};var b=a.options.tweenInFrom,d="0";b=="left"?d="-10px":b=="top"?d="-"+a.$el.initHeight+"px":b=="right"?d="10px":b=="bottom"&&(d=a.$el.initHeight+"px");if(b=="left"||b=="right")a.spanCSSVisible.left="0",a.spanCSSHidden.left=d;else if(b=="top"||b=="bottom")a.spanCSSVisible.top="0",a.spanCSSHidden.top=d};
a.buildNiceHref=function(){a.options.removeProtocol&&(e=e.replace(/^(mailto:|(http|https|ftp):\/\/)/,""));a.options.removeWWW&&(e=e.replace("www.",""));if(a.options.wrapLink!="none"){var b=!0,d=a.options.wrapLength;if(d=="auto")d=h.length-3;else if(d=="none"||d<=0)b=!1;if(b&&e.length>d+3)if(b=a.options.wrapLink,b=="after")e=e.substr(0,d)+"...";else if(b=="before")b=e.length,e="..."+e.substr(b-d,b-1);else if(b=="middle"){var b=e.substr(0,Math.floor(e.length/2)),c=e.substr(b.length,e.length),b=b.substr(0,
Math.floor(d/2)),c=c.substr(c.length-Math.ceil(d/2),c.length);e=b+"..."+c}}if(a.options.highlightURLPart!="none")d=parseUri(e),b=a.options.highlightURLPart,a.highlightPart=function(a){e=e.replace(a,"<span class='hoverattribute-highlight'>"+a+"</span>")},b=="lastURIPart"?(d=d.path.match(/[a-zA-Z0-9-_]+\/?$/i),a.highlightPart(d)):d[b]!=void 0&&d[b]!=""&&a.highlightPart(d[b])};a.buildContent=function(){a.$el.css({display:"block",position:"relative",width:a.$el.initWidth+"px",height:a.$el.height()+"px",
overflow:"hidden"}).html("<span class='hoverattribute-title'>"+h+"</span>").append("<span class='hoverattribute-attr'></span>");c(".hoverattribute-title",a.$el).css(c.extend({},a.spanCSSDefaults,a.spanCSSVisible));c(".hoverattribute-attr",a.$el).css(c.extend({},a.spanCSSDefaults,a.spanCSSHidden)).css({width:"auto",height:a.$el.initHeight+"px"}).html(e)};a.setupHovering=function(){var b=a.options.animationTime*1E3,d=a.options.animationEase;a.$el.bind("mouseover",function(){a.options.cssSettings.canExpandToFullWidth&&
c(this).css("width",a.$el.$parent.width()+"px");c(".hoverattribute-title",this).stop().animate(a.spanCSSHidden,b,d);c(".hoverattribute-attr",this).stop().animate(a.spanCSSVisible,b,d)}).bind("mouseout",function(){var e=c(this);c(".hoverattribute-title",this).stop().animate(a.spanCSSVisible,b,d);c(".hoverattribute-attr",this).stop().animate(a.spanCSSHidden,b,d,function(){e.css("width",a.$el.initWidth+"px")})})};a.init()};c.hoverAttribute.defaults={attribute:"href",animationTime:0.3,animationEase:"swing",
tweenInFrom:"left",parseAsURL:null,removeProtocol:!1,removeWWW:!1,wrapLink:"after",wrapLength:60,highlightURLPart:"host",cssSettings:{canExpandToFullWidth:!0}};c.fn.hoverAttribute=function(f){return this.each(function(){new c.hoverAttribute(this,f)})}})(jQuery);function parseUri(c){for(var f=parseUri.options,c=f.parser[f.strictMode?"strict":"loose"].exec(c),g={},a=14;a--;)g[f.key[a]]=c[a]||"";g[f.q.name]={};g[f.key[12]].replace(f.q.parser,function(a,c,b){c&&(g[f.q.name][c]=b)});return g}
parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
