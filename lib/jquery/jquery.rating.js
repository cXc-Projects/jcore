jQuery.rating={build:function(o){var p={step:true,isDisabled:false,length:5,decimalLength:0,rateMax:10,onSuccess:null,onError:null};if(this.length>0)return jQuery(this).each(function(){function h(a){a=parseFloat(a*100/c*d.rateMax/100);switch(d.decimalLength){case 1:a=Math.ceil(a*10)/10;break;case 2:a=Math.ceil(a*100)/100;break;case 3:a=Math.ceil(a*1E3)/1E3;break;default:a=Math.ceil(a*1)/1}return a}function i(a){if(!a)return 0;return a.offsetLeft+i(a.offsetParent)}var d=$.extend(p,o),b=$(this),e=0,
n=0,j=0,q=b.hasClass("disabled")||d.isDisabled?true:false;n=JCORE_VERSION<"0.8"?parseInt(16):parseInt(b.width()/d.length);j=b.height();var r=parseFloat(b.attr("data")),s=b.attr("data-url"),c=n*d.length,f=r/d.rateMax*c,k=Math.round(c/d.rateMax),g=jQuery("<a>",{"class":"star-rating-average",css:{display:"inline-block",width:f,height:j,"background-repeat":"repeat-x"}}).appendTo(b),l=jQuery("<a>",{"class":"star-rating-default",css:{display:"inline-block",width:c-f,height:j,"background-position":"100% 0",
"background-repeat":"repeat-x"}}).appendTo(b);if(JCORE_VERSION<"0.8"){g.css({"-moz-opacity":1,"-webkit-opacity":1,opacity:1,filter:"none"});b.css({overflow:"hidden","white-space":"nowrap",width:c})}else b.css({overflow:"hidden","white-space":"nowrap"});typeof b.tipsy!="undefined"&&b.tipsy();q||b.bind({mouseenter:function(){i(this)},mouseover:function(){b.css("cursor","pointer")},mouseleave:function(){b.css("cursor","default");g.width(f);l.width(c-f)},mousemove:function(a){var m=i(this);a=a.pageX-
m;e=d.step?Math.floor(a/k)*k+k:a;g.width(e);l.width(c-e);typeof b.tipsy!="undefined"?b.attr("title",b.attr("original-title").replace(/[0-9]+/,h(e))).tipsy("show"):b.attr("title",b.attr("title").replace(/[0-9]+/,h(e)))},click:function(a){b.unbind().css("cursor","default").addClass("disabled");typeof b.tipsy!="undefined"&&b.tipsy();a.preventDefault();a=h(e);g.width(e);l.width(c-e);$.post(s,{rate:a},function(m){jQuery.loading(false);jQuery.loading(true,{html:m,text:"",max:5E3})})}})})}};
jQuery.fn.rating=jQuery.rating.build;
