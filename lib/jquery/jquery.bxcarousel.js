(function(g){g.fn.bxCarousel=function(a){a=g.extend({move:4,display_num:4,speed:500,margin:0,auto:false,auto_interval:2E3,auto_dir:"next",auto_hover:false,next_text:"next",next_image:"",prev_text:"prev",prev_image:"",controls:true},a);return this.each(function(){function r(){o=a.auto_dir=="next"?setInterval(function(){s()},a.auto_interval):setInterval(function(){t()},a.auto_interval)}function s(){if(!h){h=true;u("next");b.animate({left:"-="+j},a.speed,function(){b.find("li").slice(0,a.move).remove();
b.css("left",-j);v();h=false})}}function t(){if(!h){h=true;u("prev");b.animate({left:"+="+j},a.speed,function(){b.find("li").slice(-a.move).remove();b.css("left",-j);w();h=false})}}function v(){var d=[],k=c.clone();l=e;for(i=0;i<a.move;i++){l++;if(k[l]==undefined)l=0;d[i]=g(k[l])}g.each(d,function(q){b.append(d[q][0])})}function w(){var d=[],k=c.clone();m=f;for(i=0;i<a.move;i++){m--;if(k[m]==undefined)m=c.length-1;d[i]=g(k[m])}g.each(d,function(q){b.prepend(d[q][0])})}function u(d){if(d=="next"){f+=
a.move;if(f>=c.length)f%=c.length;e+=a.move;if(e>=c.length)e%=c.length}else if(d=="prev"){f-=a.move;if(f<0)f=c.length+f;e-=a.move;if(e<0)e=c.length+e}}var b=g(this),c=b.find("li"),f=0,m=0,e=a.display_num-1,l=a.display_num-1,h=false,o="",n=false;c.css({"float":"left",listStyle:"none",marginRight:a.margin});var p=c.outerWidth(true);wrap_width=p*a.display_num-a.margin;var j=p*a.move;b.wrap('<div class="bx_container"></div>').width(999999);if(a.controls)var x=a.next_image!=""||a.prev_image!=""?'<a href="" class="prev"><img src="'+
a.prev_image+'"/></a><a href="" class="next"><img src="'+a.next_image+'"/></a>':'<a href="" class="prev">'+a.prev_text+'</a><a href="" class="next">'+a.next_text+"</a>";b.parent(".bx_container").wrap('<div class="bx_wrap"></div>').css({position:"relative",width:wrap_width,overflow:"hidden"}).before(x);p=c.slice(0,a.display_num).clone();b.empty().append(p);w();v();b.css({position:"relative",left:-j});b.parent().siblings(".next").click(function(){s();clearInterval(o);n=true;return false});b.parent().siblings(".prev").click(function(){t();
clearInterval(o);n=true;return false});if(a.auto){r();if(a.auto_hover&&n!=true){b.find("li").live("mouseenter",function(){n||clearInterval(o)});b.find("li").live("mouseleave",function(){n||r()})}}})}})(jQuery);
