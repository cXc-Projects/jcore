(function(f){f.fn.bxCarousel=function(a){a=f.extend({move:4,display_num:4,speed:500,margin:0,auto:!1,auto_interval:2E3,auto_dir:"next",auto_hover:!1,next_text:"next",next_image:"",prev_text:"prev",prev_image:"",controls:!0},a);return this.each(function(){function p(){n=a.auto_dir=="next"?setInterval(function(){q()},a.auto_interval):setInterval(function(){r()},a.auto_interval)}function q(){h||(h=!0,s("next"),b.animate({left:"-="+j},a.speed,function(){b.find("li").slice(0,a.move).remove();b.css("left",
-j);t();h=!1}))}function r(){h||(h=!0,s("prev"),b.animate({left:"+="+j},a.speed,function(){b.find("li").slice(-a.move).remove();b.css("left",-j);u();h=!1}))}function t(){var g=[],e=c.clone();k=d;for(i=0;i<a.move;i++)k++,e[k]==void 0&&(k=0),g[i]=f(e[k]);f.each(g,function(a){b.append(g[a][0])})}function u(){var g=[],d=c.clone();l=e;for(i=0;i<a.move;i++)l--,d[l]==void 0&&(l=c.length-1),g[i]=f(d[l]);f.each(g,function(a){b.prepend(g[a][0])})}function s(b){b=="next"?(e+=a.move,e>=c.length&&(e%=c.length),
d+=a.move,d>=c.length&&(d%=c.length)):b=="prev"&&(e-=a.move,e<0&&(e=c.length+e),d-=a.move,d<0&&(d=c.length+d))}var b=f(this),c=b.find("li"),e=0,l=0,d=a.display_num-1,k=a.display_num-1,h=!1,n="",m=!1;c.css({"float":"left",listStyle:"none",marginRight:a.margin});var o=c.outerWidth(!0);wrap_width=o*a.display_num-a.margin;var j=o*a.move;b.wrap('<div class="bx_container"></div>').width(999999);if(a.controls)var v=a.next_image!=""||a.prev_image!=""?'<a href="" class="prev"><img src="'+a.prev_image+'"/></a><a href="" class="next"><img src="'+
a.next_image+'"/></a>':'<a href="" class="prev">'+a.prev_text+'</a><a href="" class="next">'+a.next_text+"</a>";b.parent(".bx_container").wrap('<div class="bx_wrap"></div>').css({position:"relative",width:wrap_width,overflow:"hidden"}).before(v);o=c.slice(0,a.display_num).clone();b.empty().append(o);u();t();b.css({position:"relative",left:-j});b.parent().siblings(".next").click(function(){q();clearInterval(n);m=!0;return!1});b.parent().siblings(".prev").click(function(){r();clearInterval(n);m=!0;
return!1});a.auto&&(p(),a.auto_hover&&m!=!0&&(b.find("li").live("mouseenter",function(){m||clearInterval(n)}),b.find("li").live("mouseleave",function(){m||p()})))})}})(jQuery);
