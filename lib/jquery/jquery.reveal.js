(function(b){b("a[data-reveal-id]").live("click",function(a){a.preventDefault();a=b(this).attr("data-reveal-id");b("#"+a).reveal(b(this).data())});b.fn.reveal=function(a){a=b.extend({},{animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:!0,dismissmodalclass:"close-reveal-modal"},a);return this.each(function(){function h(){f||(f=!0,a.animation=="fadeAndPop"&&(d.delay(a.animationspeed).fadeOut(a.animationspeed),c.animate({top:b(document).scrollTop()-i,opacity:0},a.animationspeed/2,function(){c.css({top:e,
opacity:1,visibility:"hidden"});g()})),a.animation=="fade"&&(d.delay(a.animationspeed).fadeOut(a.animationspeed),c.animate({opacity:0},a.animationspeed,function(){c.css({opacity:1,visibility:"hidden",top:e});g()})),a.animation=="none"&&(c.css({visibility:"hidden",top:e}),d.css({display:"none"})))}function g(){f=!1}var c=b(this),e=parseInt(c.css("top")),i=c.height()+e,f=!1,d=b(".reveal-modal-bg");d.length==0&&(d=b('<div class="reveal-modal-bg" />').insertAfter(c));d.unbind("click.modalEvent");b("."+
a.dismissmodalclass).unbind("click.modalEvent");f||(f=!0,a.animation=="fadeAndPop"&&(c.css({top:b(document).scrollTop()-i,opacity:0,visibility:"visible"}),d.fadeIn(a.animationspeed/2),c.delay(a.animationspeed/2).animate({top:b(document).scrollTop()+e,opacity:1},a.animationspeed,g())),a.animation=="fade"&&(c.css({opacity:0,visibility:"visible",top:b(document).scrollTop()+e}),d.fadeIn(a.animationspeed/2),c.delay(a.animationspeed/2).animate({opacity:1},a.animationspeed,g())),a.animation=="none"&&(c.css({visibility:"visible",
top:b(document).scrollTop()+e}),d.css({display:"block"}),g()));b("."+a.dismissmodalclass).bind("click.modalEvent",h);a.closeonbackgroundclick&&(d.css({cursor:"pointer"}),d.bind("click.modalEvent",h))})}})(jQuery);
