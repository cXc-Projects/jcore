(function(b){function j(f,a){var c=document.createElementNS("http://www.w3.org/2000/svg",f||"svg");a&&b.each(a,function(a,b){c.setAttributeNS(null,a,b)});return b(c)}b.fn.activity=function(f){this.each(function(){var a=b(this),c=a.data("activity");c&&(clearInterval(c.data("interval")),c.remove(),a.removeData("activity"));if(f!==!1){f=b.extend({color:a.css("color")},b.fn.activity.defaults,f);var c=i(a,f).css("position","absolute").prependTo(f.outside?"body":a),d=a.outerHeight()-c.height(),g=a.outerWidth()-
c.width(),d={top:f.valign=="top"?f.padding:f.valign=="bottom"?d-f.padding:Math.floor(d/2),left:f.align=="left"?f.padding:f.align=="right"?g-f.padding:Math.floor(g/2)},g=a.offset();f.outside?c.css({top:g.top+"px",left:g.left+"px"}):(d.top-=c.offset().top-g.top,d.left-=c.offset().left-g.left);c.css({marginTop:d.top+"px",marginLeft:d.left+"px"});k(c,f.segments,Math.round(10/f.speed)/10);a.data("activity",c)}});return this};b.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",
valign:"center",padding:4};b.fn.activity.getOpacity=function(b,a){var c=b.steps||b.segments-1;return 1-Math.min(a,c)*(1-(b.opacity!==void 0?b.opacity:1/c))/c};var i=function(){return b("<div>").addClass("busy")},k=function(){};if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(i=function(f,a){for(var c=a.width*2+a.space,d=c+a.length+Math.ceil(a.width/2)+1,g=j().width(d*2).height(d*2),e=j("g",{"stroke-width":a.width,"stroke-linecap":"round",stroke:a.color}).appendTo(j("g",
{transform:"translate("+d+","+d+")"}).appendTo(g)),h=0;h<a.segments;h++)e.append(j("line",{x1:0,y1:c,x2:0,y2:c+a.length,transform:"rotate("+360/a.segments*h+", 0, 0)",opacity:b.fn.activity.getOpacity(a,h)}));return b("<div>").append(g).width(2*d).height(2*d)},document.createElement("div").style.WebkitAnimationName!==void 0)var h={},k=function(b,a,c){if(!h[a]){for(var d="spin"+a,g="@-webkit-keyframes "+d+" {",e=0;e<a;e++){var i="% { -webkit-transform:rotate("+Math.round(360/a*e)+"deg); }\n";g+=Math.round(1E5/
a*e)/1E3+i+Math.round(1E5/a*(e+1)-1)/1E3+i}g+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(g);h[a]=d}b.css("-webkit-animation",h[a]+" "+c+"s linear infinite")};else k=function(b,a,c){var d=0,g=b.find("g g").get(0);b.data("interval",setInterval(function(){g.setAttributeNS(null,"transform","rotate("+ ++d%a*(360/a)+")")},c*1E3/a))};else{var l=b("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(l.get(0).adj){var e=document.createStyleSheet();b.each(["group",
"shape","stroke"],function(){e.addRule(this,"behavior:url(#default#VML);")});i=function(f,a){for(var c=a.width*2+a.space,d=(c+a.length+Math.ceil(a.width/2)+1)*2,g=-Math.ceil(d/2),g=b("<group>",{coordsize:d+" "+d,coordorigin:g+" "+g}).css({top:g,left:g,width:d,height:d}),e=0;e<a.segments;e++)g.append(b("<shape>",{path:"m "+c+",0  l "+(c+a.length)+",0"}).css({width:d,height:d,rotation:360/a.segments*e+"deg"}).append(b("<stroke>",{color:a.color,weight:a.width+"px",endcap:"round",opacity:b.fn.activity.getOpacity(a,
e)})));return b("<group>",{coordsize:d+" "+d}).css({width:d,height:d,overflow:"hidden"}).append(g)};k=function(b,a,c){var d=0,g=b.get(0);b.data("interval",setInterval(function(){g.style.rotation=++d%a*(360/a)},c*1E3/a))}}b(l).remove()}})(jQuery);
(function(b){function j(f,a){var c=document.createElementNS("http://www.w3.org/2000/svg",f||"svg");a&&b.each(a,function(a,b){c.setAttributeNS(null,a,b)});return b(c)}b.fn.activity=function(f){this.each(function(){var a=b(this),c=a.data("activity");c&&(clearInterval(c.data("interval")),c.remove(),a.removeData("activity"));if(f!==!1){f=b.extend({color:a.css("color")},b.fn.activity.defaults,f);var c=i(a,f).css("position","absolute").prependTo(f.outside?"body":a),d={top:Math.floor((a.outerHeight()-c.height())/
2),left:Math.floor((a.outerWidth()-c.width())/2)},g=a.offset();f.outside?c.css({top:g.top+"px",left:g.left+"px"}):(d.top-=c.offset().top-g.top,d.left-=c.offset().left-g.left);c.css({marginTop:d.top+"px",marginLeft:d.left+"px"});k(c,f.segments,Math.round(10/f.speed)/10);a.data("activity",c)}});return this};b.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2};b.fn.activity.getOpacity=function(b,a){var c=b.steps||b.segments-1;return 1-Math.min(a,c)*(1-(b.opacity!==void 0?b.opacity:
1/c))/c};var i=function(){return b("<div>").addClass("busy")},k=function(){};if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(i=function(f,a){for(var c=a.width*2+a.space,d=c+a.length+Math.ceil(a.width/2)+1,g=j().width(d*2).height(d*2),e=j("g",{"stroke-width":a.width,"stroke-linecap":"round",stroke:a.color}).appendTo(j("g",{transform:"translate("+d+","+d+")"}).appendTo(g)),h=0;h<a.segments;h++)e.append(j("line",{x1:0,y1:c,x2:0,y2:c+a.length,
transform:"rotate("+360/a.segments*h+", 0, 0)",opacity:b.fn.activity.getOpacity(a,h)}));return b("<div>").append(g).width(2*d).height(2*d)},document.createElement("div").style.WebkitAnimationName!==void 0)var h={},k=function(b,a,c){if(!h[a]){for(var d="spin"+a,g="@-webkit-keyframes "+d+" {",e=0;e<a;e++){var i="% { -webkit-transform:rotate("+Math.round(360/a*e)+"deg); }\n";g+=Math.round(1E5/a*e)/1E3+i+Math.round(1E5/a*(e+1)-1)/1E3+i}g+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(g);
h[a]=d}b.css("-webkit-animation",h[a]+" "+c+"s linear infinite")};else k=function(b,a,c){var d=0,e=b.find("g g").get(0);b.data("interval",setInterval(function(){e.setAttributeNS(null,"transform","rotate("+ ++d%a*(360/a)+")")},c*1E3/a))};else{var l=b("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(l.get(0).adj){var e=document.createStyleSheet();b.each(["group","shape","stroke"],function(){e.addRule(this,"behavior:url(#default#VML);")});i=function(e,a){for(var c=a.width*2+a.space,
d=(c+a.length+Math.ceil(a.width/2)+1)*2,g=-Math.ceil(d/2),g=b("<group>",{coordsize:d+" "+d,coordorigin:g+" "+g}).css({top:g,left:g,width:d,height:d}),h=0;h<a.segments;h++)g.append(b("<shape>",{path:"m "+c+",0  l "+(c+a.length)+",0"}).css({width:d,height:d,rotation:360/a.segments*h+"deg"}).append(b("<stroke>",{color:a.color,weight:a.width+"px",endcap:"round",opacity:b.fn.activity.getOpacity(a,h)})));return b("<group>",{coordsize:d+" "+d}).css({width:d,height:d,overflow:"hidden"}).append(g)};k=function(b,
a,c){var d=0,e=b.get(0);b.data("interval",setInterval(function(){e.style.rotation=++d%a*(360/a)},c*1E3/a))}}b(l).remove()}})(jQuery);
(function(b){function j(b,f){var a=b.data("transform");a||(a=new k,b.data("transform",a));f!==void 0&&(f===!1||f.reset?a.reset():a.exec(f));return a}function i(e,f){function a(a,b){return a.replace(/\{(\w+)\}/g,function(a,c){return b[c]})}this.reset=function(){b.extend(this,f)};this.format=function(){return a(e,this)};this.reset()}function k(){var e={translate:new i("translate({x}px,{y}px)",{x:0,y:0}),scale:new i("scale({x},{y})",{x:1,y:1}),rotate:new i("rotate({deg}deg)",{deg:0})};if(l)e.translate=
new i("translate3d({x}px,{y}px,0px)",{x:0,y:0}),e.scale=new i("scale3d({x},{y},1)",{x:1,y:1});var f={rotate:function(a){e.rotate.deg=a},rotateBy:function(a){e.rotate.deg+=a},scale:function(a){typeof a=="number"&&(a={x:a,y:a});e.scale.x=a.x;e.scale.y=a.y},scaleBy:function(a){typeof a=="number"&&(a={x:a,y:a});e.scale.x*=a.x;e.scale.y*=a.y},translate:function(a){var b=e.translate;a||(a={x:0,y:0});b.x=a.x!==void 0?parseInt(a.x,10):b.x;b.y=a.y!==void 0?parseInt(a.y,10):b.y},translateBy:function(a){var b=
e.translate;b.x+=parseInt(a.x,10)||0;b.y+=parseInt(a.y,10)||0}};this.fn=e;this.exec=function(a){for(var b in a)if(f[b])f[b](a[b])};this.reset=function(){b.each(e,function(){this.reset()})};this.format=function(){var a="";b.each(e,function(b,d){a+=d.format()+" "});return a}}var h=function(){function e(c){var e="";if(a[c]!==void 0)return c;b.each(f,function(){var b=this+c.charAt(0).toUpperCase()+c.substring(1);if(a[b]!==void 0)return e=b,!1});return e}var f=["Webkit","Moz","O"],a=document.createElement("div").style,
c={};b.each(["transitionDuration","transitionProperty","transform","transformOrigin"],function(){c[this]=e(this)});return c}(),l=function(){var b=document.createElement("div").style;try{return b[h.transform]="translate3d(0,0,0)",b[h.transform].length>0}catch(f){return!1}}();b.fn.transform=function(e){var f=this;b.fn.transform.supported&&this.each(function(){var a=b(this),c=j(a,e);if(e===void 0)return f=c.fn,!1;var d=e&&e.origin?e.origin:"0 0";a.css(h.transitionDuration,"0s").css(h.transformOrigin,
d).css(h.transform,c.format())});return f};b.fn.transform.supported=!!h.transform;b.fn.transition=function(e,f){var f=b.extend({delay:0,duration:0.4},f),a="";b.each(e,function(b){a+=b+","});this.each(function(){function c(){g.css(h.transitionProperty,a).css(h.transitionDuration,f.duration+"s");g.css(e);if(f.duration>0)g.one("webkitTransitionEnd oTransitionEnd transitionend",d);else setTimeout(d,1)}function d(){g.css(h.transitionDuration,i);f.onFinish&&b.proxy(f.onFinish,g)()}var g=b(this);if(b.fn.transition.supported){var i=
g.css(h.transitionDuration);f.delay>0?setTimeout(c,f.delay):c()}else g.css(e),f.onFinish&&b.proxy(f.onFinish,g)()});return this};b.fn.transition.supported=!!h.transitionProperty;b.fn.transformTransition=function(e){var e=b.extend({origin:"0 0",css:{}},e),f=e.css;b.fn.transform.supported&&(f[h.transform]=j(this,e).format(),this.css(h.transformOrigin,e.origin));return this.transition(f,e)}})(jQuery);
(function(b){function j(a,c,d){c.activity();var e=new Image;e.onload=function(){c.activity(!1);i(a,a.index(c),this,d.getSource)};e.src=b.proxy(d.getSource,c.get(0))()}function i(a,f,x,i){var u=g(y(b('<div id="galleryViewport">').css({position:"fixed",top:0,left:0,overflow:"hidden"}).transform(!1).appendTo("body"))),q=b('<div id="galleryStripe">').css({position:"absolute",height:"100%",top:0,left:-f*m()+"px"}).width(a.length*m()).transform(!1).appendTo(u);d(q,m(),f,a.length-1);b(window).bind("orientationchange.gallery",
function(){g(u);q.find("img").each(l)});a.each(function(d){var g=b("<div>").addClass("galleryPage").css({display:"block",position:"absolute",left:d*m()+"px",overflow:"hidden",height:"100%"}).width(m()).data("thumbs",a).data("thumb",b(this)).transform(!1).appendTo(q);if(d==f){var j=b(x).css({position:"absolute",display:"block"}).transform(!1);v(l(f,x,j)).appendTo(g);e(b(this),j,function(){q.addClass("ready");c(f)});h(u)}else{g.activity({color:"#fff"});var k=new Image,n=b.proxy(i,this)();g.one("loadImage",
function(){k.src=n});k.onload=function(){var a=b(this).css({position:"absolute",display:"block"}).transform(!1);l(d,this,a).appendTo(g.activity(!1));g.trigger("loaded")}}})}function k(a){if(a.is(".ready")&&!a.is(".panning")){b("#galleryShade").remove();var c=a.find(".galleryPage").eq(a.data("galleryIndex"));c.data("thumbs").removeClass("open");var d=c.data("thumb");a.add(window).add(document).unbind(".gallery");f(c.find("img"),d,function(){w(d).transform(!1);b("#galleryViewport").remove()})}}function h(a,
c){var d=b('<div id="galleryShade">').css({top:0,left:0,background:"#000",opacity:0});if(r){var e=Math.max(screen.width,screen.height)*(window.devicePixelRatio||1)+Math.max(s(),p())+100;d.css({position:"absolute"}).width(e).height(e)}else d.css({position:"fixed",width:"100%",height:"100%"});d.insertBefore(a).transform(!1).transition({opacity:1},{delay:200,duration:0.8,onFinish:c})}function l(a,c,d){d=d||b(c);if(!c.naturalWidth)c.naturalWidth=c.width,c.naturalHeight=c.height;a=Math.min(m()/document.documentElement.clientWidth,
Math.min(t()/c.naturalHeight,m()/c.naturalWidth));d.css({top:Math.round((t()-c.naturalHeight*a)/2)+"px",left:Math.round((m()-c.naturalWidth*a)/2)+"px"}).width(Math.round(c.naturalWidth*a));return d}function e(a,b,c){var d=n(b),e=n(a),f=Math.max(e.width/b.width(),e.height/b.height()),g=r?0:s(),h=r?0:p();b.transform({translate:{x:e.left-d.left-g-Math.round((d.width*f-e.width)/2),y:e.top-d.top-h-Math.round((d.height*f-e.height)/2)},scale:f});setTimeout(function(){w(b);v(a);b.transformTransition({reset:!0,
onFinish:c})},1)}function f(a,c,d){if(a.length===0||!b.fn.transition.supported)d&&d();else{var e=n(a),c=n(c),f=Math.min(e.height*c.width/c.height,e.width),g=Math.min(e.width*c.height/c.width,e.height),h=Math.max(c.width/f,c.height/g),i=b("<div>").css({overflow:"hidden",position:"absolute",width:f+"px",height:g+"px",top:p()+Math.round((t()-g)/2)+"px",left:s()+Math.round((m()-f)/2)+"px"}).appendTo("body").append(a.css({top:1-Math.floor((e.height-g)/2)+"px",left:-Math.floor((e.width-f)/2)+"px"})).transform(!1),
e=n(i);i.transformTransition({translate:{x:c.left-e.left-Math.round((f*h-c.width)/2),y:c.top-e.top-Math.round((g*h-c.height)/2)},scale:h,onFinish:function(){d();i.remove()}})}}function a(a){return b("#galleryStripe .galleryPage").eq(a)}function c(b){function c(){a(b-1).add(a(b+1)).trigger("loadImage")}var d=a(b);if(d.find("img").length>0)c();else d.one("loaded",c)}function d(d,e,f,g){function h(f){var i=d.data("galleryIndex");w(a(i).data("thumb"));i=Math.max(0,Math.min(i+f,g));d.data("galleryIndex",
i);v(a(i).data("thumb"));c(i);b.fn.transform.supported?(f=-i*e-j,f!=d.transform().translate.x&&d.addClass("panning").transformTransition({translate:{x:f},onFinish:function(){this.removeClass("panning")}})):d.css("left",-i*e+"px")}var i=m()/document.documentElement.clientWidth,j=parseInt(d.css("left"),10);d.data("galleryIndex",f);b(document).bind("keydown.gallery",function(a){a.keyCode==37?d.trigger("prev"):a.keyCode==39&&d.trigger("next");(a.keyCode==27||a.keyCode==32)&&d.trigger("close");return!1});
d.bind("touchstart",function(){b(this).data("pan",{startX:event.targetTouches[0].screenX,lastX:event.targetTouches[0].screenX,startTime:(new Date).getTime(),startOffset:b(this).transform().translate.x,distance:function(){return Math.round(i*(this.startX-this.lastX))},delta:function(){var a=event.targetTouches[0].screenX;this.dir=this.lastX>a?1:-1;var b=Math.round(i*(this.lastX-a));this.lastX=a;return b},duration:function(){return(new Date).getTime()-this.startTime}});return!1}).bind("touchmove",function(){var a=
b(this).data("pan");b(this).transform({translateBy:{x:-a.delta()}});return!1}).bind("touchend",function(){var a=b(this).data("pan");a.distance()===0&&a.duration()<500?b(event.target).trigger("click"):h(a.dir);return!1}).bind("prev",function(){h(-1)}).bind("next",function(){h(1)}).bind("click close",function(){k(d)})}function g(a){r&&a.css({top:p()+"px",left:s()+"px"});return a.width(m()).height(t())}function o(a,b){if(window[a]!==void 0)return window[a];var c=document.documentElement;if(c&&c[b])return c[b];
return document.body[b]}function p(){return o("pageYOffset","scrollTop")}function s(){return o("pageXOffset","scrollLeft")}function m(){return o("innerWidth","clientWidth")}function t(){return o("innerHeight","clientHeight")}function w(a){return a.css("visibility","visible")}function v(a){return a.css("visibility","hidden")}function n(a){var c=a.get(0);if(c&&c.getBoundingClientRect)return c.getBoundingClientRect();return b.extend({width:a.width(),height:a.height()},a.offset())}function y(a){return a.bind("touchstart",
function(){return!1})}var r=/Mobile.*Safari/.test(navigator.userAgent);b.fn.touchGallery=function(a){var a=b.extend({},b.fn.touchGallery.defaults,a),c=this;this.live("click",function(d){d.preventDefault();d=b(this);d.is(".open")||(c.addClass("open"),j(c,d,a))});return this};b.fn.touchGallery.defaults={getSource:function(){return this.href}}})(jQuery);
