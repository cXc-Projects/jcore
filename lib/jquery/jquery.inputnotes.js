(function(a){a.fn.inputNotes=function(d){function g(){var g=f.val(),j=[],c;for(c in d){var b=d[c],i=h+" #note_"+c;if(b.inversedBehavior!=true)b.inversedBehavior=false;!b.inversedBehavior&&g.match(b.pattern)||b.inversedBehavior&&!g.match(b.pattern)?a(i).size()==0&&(a(h).append("<"+e.noteTag+' id="note_'+c+'" class="'+b.type+'">'+b.text+"</"+e.noteTag+">"),a(h).is(":hidden")&&a(h).show(),a(f).trigger("inputnote_added",{note:c}),typeof b.addCallback=="function"&&b.addCallback.call(f,c,b.type),a(i).hide().slideDown("fast")):
a(i).size()>0&&(j[c]=true)}for(c in j)b=d[c],i=h+" #note_"+c,a(f).trigger("inputnote_removed",{note:c}),typeof b.removeCallback=="function"&&b.removeCallback.call(f,c,b.type),a(i).slideUp("fast",function(){a(i).remove();a(h).html()==""&&a(h).hide()})}var f=this,e=d.config==void 0?{}:d.config;delete d.config;if(e.containerTag==""||e.containerTag==void 0)e.containerTag="div";if(e.noteTag==""||e.noteTag==void 0)e.noteTag="div";var j="<"+e.containerTag+' id="'+this.attr("id")+'_inputnotes" class="inputnotes"></'+
e.containerTag+">";e.notePosition=="before"?f.before(j):f.after(j);var h="#"+f.attr("id")+"_inputnotes";a(h).hide();a("#"+f.attr("id")+"_inputnotes").css({width:f.outerWidth()});g();this.keyup(function(){g()});return this};a.fn.hasInputNotes=function(d){if(a(this).is("form")){var g=false;a(this).find("input, textarea").each(function(){a(this).attr("id")&&(d!=void 0?a("#"+a(this).attr("id")+"_inputnotes div."+d).size()>0&&(g=true):a("#"+a(this).attr("id")+"_inputnotes div").size()>0&&(g=true))});return g}else return d!=
void 0?a("#"+this.attr("id")+"_inputnotes div."+d).size()>0?true:false:a("#"+this.attr("id")+"_inputnotes div").size()>0?true:false}})(jQuery);
